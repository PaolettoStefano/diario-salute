function render(){
const list = document.getElementById("recordsList");

if(records.length === 0){
list.innerHTML = '<tr><td colspan="8" class="p-4 text-center text-slate-400">Nessun dato</td></tr>';
return;
}

// Ordina per data decrescente
records.sort((a,b)=>{
return new Date(b.date + " " + b.time) - new Date(a.date + " " + a.time);
});

// Raggruppa per mese
let grouped = {};

records.forEach(r=>{
const dateObj = new Date(r.date);
const key = dateObj.getFullYear() + "-" + (dateObj.getMonth()+1);

if(!grouped[key]) grouped[key] = [];
grouped[key].push(r);
});

let html = "";

Object.keys(grouped).forEach(key=>{

const [year,month] = key.split("-");
const monthName = new Date(year, month-1).toLocaleString("it-IT", { month: "long" });
const title = monthName.charAt(0).toUpperCase() + monthName.slice(1) + " " + year;

html += `
<tr>
<td colspan="8" class="bg-blue-50 p-3 font-bold text-blue-800 text-sm">
ðŸ“… ${title} (${grouped[key].length} misurazioni)
</td>
</tr>
`;

grouped[key].forEach((r,i)=>{
html += `
<tr class="border-b">
<td class="p-2">${r.date}</td>
<td class="p-2">${r.time}</td>
<td class="p-2 font-bold">${r.max}/${r.min}</td>
<td class="p-2">${r.puls}</td>
<td class="p-2">${r.temp}Â°</td>
<td class="p-2">${r.spo2}%</td>
<td class="p-2 font-bold text-red-500">${r.bpm}</td>
<td class="p-2">
<button onclick="deleteRec(${records.indexOf(r)})">ðŸ—‘</button>
</td>
</tr>
`;
});

});

list.innerHTML = html;
}
